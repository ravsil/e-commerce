<!DOCTYPE html>
<html lang="en">
<head> 
  @vite(['resources/css/app.css', 'resources/js/app.js'])
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body class="flex flex-col lg:flex-row h-screen bg-gray-200">
  <div class="w-1/2 torto-wrap h-full animate-slide-in hidden lg:flex">
    <div class="bg-black torto w-full h-full flex ">
      <p class="text-white place-self-start lg:text-2xl xl:text-3xl 2xl:text-4xl border-2 border-white 
      p-2 px-4 mt-36 lg:ml-7 xl:ml-20">BDV e-commerce<sup>©</sup></p>
    </div>
  </div>

  <div class="h-2/4 flex w-full justify-center flex-col">
    <div class="lg:hidden bg-black p-4 px-10 place-self-center mt-80 shadow-bottom shadow-zinc-600/50 w-6/11 md:w-5/11 m-4 
    md:max-w-6/11 animate-fade-in-start">
      <p class="text-white border-2 border-white place-self-center p-2 md:px-4 md:text-xl text-nowrap">BDV <br class="md:hidden">e-commerce<sup>©</sup></p>
    </div>
  <div class="place-self-center m-10 lg:mr-20 lg:mt-65 p-3 md:p-4 bg-white text-black animate-fade-in-start
  shadow-bottom shadow-zinc-600/50 w-9/11 md:w-8/11 md:max-w-9/11 lg:w-9/11 lg:max-w-6/11">
    @let(url = user ? route('users.update', { id: user.id }, { qs: { _method: 'PUT' } }) : route('users.store'))
    @form({ action: url, method: 'POST' })
        <script>
          // Before submitting the create-user form, copy guest cart to a cookie
          document.addEventListener('DOMContentLoaded', () => {
            const targetForm = document.querySelector('form')
            if (!targetForm) return
            targetForm.addEventListener('submit', () => {
              try {
                const cart = localStorage.getItem('cartItems')
                if (cart) {
                  // store cart in a cookie so server can merge after account creation
                  document.cookie = `guestCart=${encodeURIComponent(cart)}; path=/`;
                }
              } catch (e) {
                // ignore
              }
            })
          })
        </script>
          <div class="flex flex-col gap-1">
            <label for="username">
              Nome do Usuário
            </label>

            @!input({
              type: 'text',
              name: 'username',
              placeholder: 'nome ...',
              value: product?.name || ''
            })
          </div>

          <div class="flex flex-col gap-1">
            <label for="age">
              Idade
            </label>

            @!input({
              type: 'number',
              name: 'age',
              placeholder: 'idade ...',
              value: user?.age || ''
            })
          </div>

          <div class="flex flex-col gap-1">
            <label for="email">
              E-mail
            </label>

            @!input({
              type: 'email',
              name: 'email',
              placeholder: 'email ...',
              value: user?.email || ''
            })
          </div>
          <div class="flex flex-col gap-1">
            <label for="password">
              Senha
            </label>

            @!input({
              type: 'password',
              name: 'password',
              placeholder: 'senha ...',
              value: ''
            })
          </div>
          <button type="submit" class=" text-center px-3 py-3 bg-black place-self-center shadow-sm shadow-zinc-600/50 hover:shadow-md 
          hover:scale-101 transition duration-150 ease-in text-white">
            <div class="t-underline">{{ user ? 'Atualizar Usuário' : 'Criar Usuário' }}</div>
          </button>
          <p class="place-self-center"> Já possui uma conta? 
            <a href="{{ route('auth.login') }}" class="text-blue-600 hover:underline">
              Faça login aqui
            </a>
        @end
  </div>
  </div>
</body>
</html>

