<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BDV e-commerce</title>
  @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body class="bg-gray-200 h-screen">
  @include('components/header')
  <section class="w-full justify-center flex">
    {{{ await $slots.main() }}}
  </section>

  @if(flashMessages.get('cart_merged'))
    <script>
      // Clear guest cart from localStorage after successful merge
      try {
        localStorage.removeItem('cartItems')
        localStorage.removeItem('cartTotal')
        // also try to clear the cookie if present
        document.cookie = 'guestCart=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT'
        document.cookie = 'clearGuestCart=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT'
      } catch (e) {
      }
    </script>
  @endif

</body>
</html>